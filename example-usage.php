<?php

use AnkitFromIndia\MX18\Http\MX18Client;
use AnkitFromIndia\MX18\Mail\MX18Mail;

// Example replicating the exact curl request
$client = new MX18Client('mx18_R2sAoFa7xFuNyQtqfTnTDsbYWjTXXX8p41eSnz0_c7023922');

$mail = (new MX18Mail())
    ->from('info@alerts.mx18.email', 'MX18')
    ->replyTo('support@mx18.com', 'MX18 Support')
    ->to('anuragngm4796@gmail.com', 'Anurag', [
        'userName' => 'anurag',
        'NotificationType' => 'Onboarding',
        'Date' => '17th October, 2025'
    ])
    ->subject('Hello {{userName}}, welcome to our great platform ✌️✌️✌️✌️')
    ->html('<!doctype html><html lang=\'en\'><head><meta name=\'viewport\' content=\'width=device-width,initial-scale=1\'><meta http-equiv=\'Content-Type\' content=\'text/html; charset=UTF-8\'><title>MX18-Simple Transactional Email</title><style media=\'all\' type=\'text/css\'>body{font-family:Helvetica,sans-serif;-webkit-font-smoothing:antialiased;font-size:16px;line-height:1.3;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}table{border-collapse:separate;mso-table-lspace:0;mso-table-rspace:0;width:100%}table td{font-family:Helvetica,sans-serif;font-size:16px;vertical-align:top}body{background-color:#f4f5f6;margin:0;padding:0}.body{background-color:#f4f5f6;width:100%}.container{margin:0 auto!important;max-width:600px;padding:0;padding-top:24px;width:600px}.content{box-sizing:border-box;display:block;margin:0 auto;max-width:600px;padding:0}.main{background:#fff;border:1px solid #eaebed;border-radius:16px;width:100%}.wrapper{box-sizing:border-box;padding:24px}.footer{clear:both;padding-top:24px;text-align:center;width:100%}.footer a,.footer p,.footer span,.footer td{color:#9a9ea6;font-size:16px;text-align:center}p{font-family:Helvetica,sans-serif;font-size:16px;font-weight:400;margin:0;margin-bottom:16px}a{color:#0867ec;text-decoration:underline}.btn{box-sizing:border-box;min-width:100%!important;width:100%}.btn>tbody>tr>td{padding-bottom:16px}.btn table{width:auto}.btn table td{background-color:#fff;border-radius:4px;text-align:center}.btn a{background-color:#fff;border:solid 2px #0867ec;border-radius:4px;box-sizing:border-box;color:#0867ec;cursor:pointer;display:inline-block;font-size:16px;font-weight:700;margin:0;padding:12px 24px;text-decoration:none;text-transform:capitalize}.btn-primary table td{background-color:#0867ec}.btn-primary a{background-color:#0867ec;border-color:#0867ec;color:#fff}@media all{.btn-primary table td:hover{background-color:#ec0867!important}.btn-primary a:hover{background-color:#ec0867!important;border-color:#ec0867!important}}.last{margin-bottom:0}.first{margin-top:0}.align-center{text-align:center}.align-right{text-align:right}.align-left{text-align:left}.text-link{color:#0867ec!important;text-decoration:underline!important}.clear{clear:both}.mt0{margin-top:0}.mb0{margin-bottom:0}.preheader{color:transparent;display:none;height:0;max-height:0;max-width:0;opacity:0;overflow:hidden;mso-hide:all;visibility:hidden;width:0}.powered-by a{text-decoration:none}@media only screen and (max-width:640px){.main p,.main span,.main td{font-size:16px!important}.wrapper{padding:8px!important}.content{padding:0!important}.container{padding:0!important;padding-top:8px!important;width:100%!important}.main{border-left-width:0!important;border-radius:0!important;border-right-width:0!important}.btn table{max-width:100%!important;width:100%!important}.btn a{font-size:16px!important;max-width:100%!important;width:100%!important}}@media all{.ExternalClass{width:100%}.ExternalClass,.ExternalClass div,.ExternalClass font,.ExternalClass p,.ExternalClass span,.ExternalClass td{line-height:100%}.apple-link a{color:inherit!important;font-family:inherit!important;font-size:inherit!important;font-weight:inherit!important;line-height:inherit!important;text-decoration:none!important}#MessageViewBody a{color:inherit;text-decoration:none;font-size:inherit;font-family:inherit;font-weight:inherit;line-height:inherit}}</style></head><body><table role=\'presentation\' border=\'0\' cellpadding=\'0\' cellspacing=\'0\' class=\'body\'><tr><td>&nbsp;</td><td class=\'container\'><div class=\'content\'><span class=\'preheader\'>This is preheader text. Some clients will show this text as a preview.</span><table role=\'presentation\' border=\'0\' cellpadding=\'0\' cellspacing=\'0\' class=\'main\'><tr><td class=\'wrapper\'><h1>MX18 Demo Email content</h1><p>Hi there</p><p>Sometimes you just want to send a simple HTML email with a simple design and clear call to action. This is it.</p><table role=\'presentation\' border=\'0\' cellpadding=\'0\' cellspacing=\'0\' class=\'btn btn-primary\'><tbody><tr><td align=\'left\'><table role=\'presentation\' border=\'0\' cellpadding=\'0\' cellspacing=\'0\'><tbody><tr><td><a href=\'https://mx18.com/\' target=\'_blank\'>Call To Action</a></td></tr></tbody></table></td></tr></tbody></table><p>This is a really simple email template. It\'s sole purpose is to get the recipient to click the button with no distractions.</p><p>Good luck! Hope it works.</p></td></tr></table><div class=\'footer\'><table align=\'left\' role=\'presentation\' border=\'0\' cellpadding=\'0\' cellspacing=\'0\'><tr><td align=\'left\' class=\'content-block powered-by\'>Powered by <a href=\'https://mx18.com/\'>MX18</a></td></tr></table></div></div></td><td>&nbsp;</td></tr></table></body></html>')
    ->text('MX18 Demo Email content, Hi there, Sometimes you just want to send a simple HTML email with a simple design and clear call to action. This is it. This is a really simple email template. It\'s sole purpose is to get the recipient to click the button with no distractions. Good luck! Hope it works.')
    ->attach('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', 'hello', 'image/png')
    ->headers([
        'Anurag' => 'CustomValue',
        'X-Mailer' => 'MX18 API'
    ])
    ->customArguments([
        'customerAccountNumber' => '55555',
        'activationAttempt' => '1'
    ]);

$response = $client->send($mail);
